{"version":3,"sources":["webpack:///webpack/bootstrap 33e1dbd43d06cb88ad51","webpack:///./~/furhat-gui/index.js","webpack:///./.modernizrrc.json","webpack:///./src/index.js","webpack:///./~/furhat-core/dist/index.js","webpack:///./~/furhat-core/index.js","webpack:///./~/furhat-gui/dist/index.js"],"names":["PaintBook","Global","$","Modernizr","touchevents","defaultPenColor","defaultFillColor","currentPenColor","currentFillColor","Class","extend","prop","superObj","prototypeObj","superPrototype","prototype","returnClass","_super","_setSub","init","apply","arguments","name","undefined","sub","_sub","constructor","call","PaintHandler","go","drawEl","drawElRaw","get","showDrawEl","penHandlerStart","bind","penHandlerMove","penHandlerUp","penHandlerUpdatePathAttribute","penHandlerUpdateStrokeWidth","penData","defaultStrokeWidth","strokeWidth","boundingClientRect","getBoundingClientRect","bufferSize","path","isDrawing","strPath","buffer","clipEl","initPen","reInit","clearAndHide","empty","addClass","_this","removeClass","addEventListener","trigger","clickEventType","start","move","up","e","targetTouches","length","item","document","createElementNS","setAttribute","pt","getMousePosition","penHandlerAppendToBuffer","x","y","append","val","penHandlerUpdateSvgPath","pageX","left","pageY","top","push","shift","penHandlerGetAveragePoint","offset","len","totalX","totalY","i","count","tmpPath","app","paint","onFurhatMessage","data","action","setValue","furhat","subscribe","sendEvent","eventName","send","event_name","event"],"mappings":"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CAAY;AACVC,oBAAYF,SADF;AAEVN,cAAMA;AAFI,OAAZ;AAID,KALD;AAMD,GATD;;AAWAnE,KAAGC,MAAH,CAAUK,IAAV,CAAe,4BAAf,EACE,UAASsE,KAAT,EAAeT,IAAf,EAAqB;AACnBxC,UAAM6C,SAAN,CAAgB,kBAAhB,EAAqC,EAArC;AACH,GAHD,EAGGlE,IAHH,CAGQ,qBAHR,EAIE,UAASsE,KAAT,EAAeT,IAAf,EAAqB;AACnBxC,UAAM6C,SAAN,CAAgB,mBAAhB,EAAsC,EAAtC;AACH,GAND;AAOD,CAjDD;AAkDArG,UAAU6F,GAAV,G;;;;;;;AC9Ra;;AAEb;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6DAA6D,OAAO,GAAG,KAAK,GAAG,MAAM,GAAG;AACxF,+CAA+C,OAAO,GAAG,KAAK,GAAG,MAAM,GAAG;;AAE1E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;;AAEA,yB;;;;;;ACpIA,iBAAiB,mBAAO,CAAC,CAAQ;;;;;;;;ACApB;;AAEb;AACA;AACA,CAAC;;AAED,kBAAkB,mBAAO,CAAC,CAAa;;AAEvC;;AAEA,sCAAsC,uCAAuC,gBAAgB;;AAE7F;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,gBAAgB;AAC3C;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA,4DAA4D;AAC5D,OAAO;AACP,KAAK;AACL;AACA;;AAEA,4B","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 33e1dbd43d06cb88ad51","module.exports = require('./dist')\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/furhat-gui/index.js\n// module id = 0\n// module chunks = 0",";(function(window){var hadGlobal='Modernizr' in window;var oldGlobal=window.Modernizr;/*! modernizr 3.6.0 (Custom Build) | MIT *\n * https://modernizr.com/download/?-touchevents !*/\n!function(e,n,t){function o(e,n){return typeof e===n}function s(){var e,n,t,s,i,a,r;for(var l in f)if(f.hasOwnProperty(l)){if(e=[],n=f[l],n.name&&(e.push(n.name.toLowerCase()),n.options&&n.options.aliases&&n.options.aliases.length))for(t=0;t<n.options.aliases.length;t++)e.push(n.options.aliases[t].toLowerCase());for(s=o(n.fn,\"function\")?n.fn():n.fn,i=0;i<e.length;i++)a=e[i],r=a.split(\".\"),1===r.length?Modernizr[r[0]]=s:(!Modernizr[r[0]]||Modernizr[r[0]]instanceof Boolean||(Modernizr[r[0]]=new Boolean(Modernizr[r[0]])),Modernizr[r[0]][r[1]]=s),d.push((s?\"\":\"no-\")+r.join(\"-\"))}}function i(){return\"function\"!=typeof n.createElement?n.createElement(arguments[0]):p?n.createElementNS.call(n,\"http://www.w3.org/2000/svg\",arguments[0]):n.createElement.apply(n,arguments)}function a(){var e=n.body;return e||(e=i(p?\"svg\":\"body\"),e.fake=!0),e}function r(e,t,o,s){var r,f,l,d,u=\"modernizr\",p=i(\"div\"),h=a();if(parseInt(o,10))for(;o--;)l=i(\"div\"),l.id=s?s[o]:u+(o+1),p.appendChild(l);return r=i(\"style\"),r.type=\"text/css\",r.id=\"s\"+u,(h.fake?h:p).appendChild(r),h.appendChild(p),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(n.createTextNode(e)),p.id=u,h.fake&&(h.style.background=\"\",h.style.overflow=\"hidden\",d=c.style.overflow,c.style.overflow=\"hidden\",c.appendChild(h)),f=t(p,e),h.fake?(h.parentNode.removeChild(h),c.style.overflow=d,c.offsetHeight):p.parentNode.removeChild(p),!!f}var f=[],l={_version:\"3.6.0\",_config:{classPrefix:\"\",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,n){var t=this;setTimeout(function(){n(t[e])},0)},addTest:function(e,n,t){f.push({name:e,fn:n,options:t})},addAsyncTest:function(e){f.push({name:null,fn:e})}},Modernizr=function(){};Modernizr.prototype=l,Modernizr=new Modernizr;var d=[],u=l._config.usePrefixes?\" -webkit- -moz- -o- -ms- \".split(\" \"):[\"\",\"\"];l._prefixes=u;var c=n.documentElement,p=\"svg\"===c.nodeName.toLowerCase(),h=l.testStyles=r;Modernizr.addTest(\"touchevents\",function(){var t;if(\"ontouchstart\"in e||e.DocumentTouch&&n instanceof DocumentTouch)t=!0;else{var o=[\"@media (\",u.join(\"touch-enabled),(\"),\"heartz\",\")\",\"{#modernizr{top:9px;position:absolute}}\"].join(\"\");h(o,function(e){t=9===e.offsetTop})}return t}),s(),delete l.addTest,delete l.addAsyncTest;for(var m=0;m<Modernizr._q.length;m++)Modernizr._q[m]();e.Modernizr=Modernizr}(window,document);module.exports=window.Modernizr;if(hadGlobal){window.Modernizr=oldGlobal;}else{delete window.Modernizr;}})(window);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./.modernizrrc.json\n// module id = 1\n// module chunks = 0","import Furhat from 'furhat-gui'\r\nimport Modernizr from 'modernizr'\r\n\r\nvar PaintBook = {};\r\n\r\n///////////////////////////////////////////////////////////////////////\r\n//  Global\r\n///////////////////////////////////////////////////////////////////////\r\nPaintBook.Global = {\r\n  'drawEl': $(\"#draw-svg\"),\r\n  'clickEventType': { \r\n    'start': Modernizr.touchevents ? 'touchstart':'mousedown',\r\n    'move': Modernizr.touchevents ? 'touchmove':'mousemove',\r\n    'up': Modernizr.touchevents ? 'touchend':'mouseup',\r\n  },\r\n  defaultPenColor: \"#000\",\r\n  defaultFillColor: \"#000\",\r\n  currentPenColor: \"#000\",\r\n  currentFillColor: \"#000\"\r\n};\r\n\r\n///////////////////////////////////////////////////////////////////////\r\n//  Class\r\n///////////////////////////////////////////////////////////////////////\r\n/* \r\n * Simple JavaScript Inheritance\r\n */\r\n(function(){\r\n  // The base Class implementation (does nothing)\r\n  PaintBook.Class = function(){};\r\n \r\n  // Create a new Class that inherits from this class\r\n  PaintBook.Class.extend = function(prop, extend){\r\n\tvar superObj = {}, prototypeObj = {};\r\n\tvar superPrototype = extend ? extend.prototype : {};\r\n\t\r\n\tvar returnClass = function(){\r\n\t\tif(this._super._setSub){\r\n\t\t\tthis._super._setSub(this);\r\n\t\t}\r\n\t\tif(this.init){\r\n\t\t\tthis.init.apply(this, arguments);\r\n\t\t}\r\n\t}\r\n\t\r\n\tfor(var name in prop){\r\n\t\tprototypeObj[name] = prop[name];\r\n\t}\r\n\t\r\n\tfor(var name in superPrototype){\r\n\t\tif(prototypeObj[name] == undefined){\r\n\t\t\tprototypeObj[name] = superPrototype[name];\r\n\t\t}\r\n\t\tsuperObj[name] = superPrototype[name];\r\n\t}\r\n\t\r\n\tprototypeObj._super = superObj;\r\n\t\r\n\t//add a function for recursive setting of sub instance \r\n\tprototypeObj._setSub = function(sub){\r\n\t\tthis._sub = sub;\r\n\t\tif(this._super._setSub){\r\n\t\t\tthis._super._setSub(sub._super);\r\n\t\t}\r\n\t}\r\n\t\r\n\treturnClass.constructor = returnClass;\r\n\treturnClass.prototype = prototypeObj;\r\n\t\r\n\t//add a static extend to the current class  \r\n\treturnClass.extend = function(prop){\r\n\t\treturn PaintBook.Class.extend.call(this, prop, returnClass);\r\n\t}\r\n\t\r\n\treturn returnClass;\r\n};\r\n})();\r\n\r\n///////////////////////////////////////////////////////////////////////\r\n//  Painthandler\r\n///////////////////////////////////////////////////////////////////////\r\n/*\r\n * Handles paint area\r\n */\r\nPaintBook.PaintHandler = PaintBook.Class.extend ({\r\n  init: function(){\r\n    this.go = PaintBook.Global;\r\n    this.drawEl = this.go.drawEl;\r\n    this.drawElRaw = this.go.drawEl.get(0);\r\n  \r\n    this.showDrawEl();\r\n   \r\n    // bind: scope to this and create a new function\r\n    this.penHandlerStart = this.penHandlerStart.bind(this); \r\n    this.penHandlerMove = this.penHandlerMove.bind(this); \r\n    this.penHandlerUp = this.penHandlerUp.bind(this); \r\n    this.penHandlerUpdatePathAttribute = this.penHandlerUpdatePathAttribute.bind(this); \r\n    this.penHandlerUpdateStrokeWidth = this.penHandlerUpdateStrokeWidth.bind(this); \r\n\r\n    this.penData = {\r\n      defaultStrokeWidth: 10,\r\n      strokeWidth: 10,\r\n      boundingClientRect: this.drawElRaw.getBoundingClientRect(),\r\n      bufferSize: 3,\r\n      path: null,\r\n      isDrawing: false,\r\n      strPath: null,\r\n      buffer: [],\r\n      clipEl: null,\r\n    };\r\n  \r\n    this.initPen();\r\n  },\r\n  reInit: function() {\r\n    this.go.currentPenColor = this.go.defaultPenColor;\r\n    this.go.currentFillColor = this.go.defaultFillColor;\r\n    this.penData.strokeWidth = this.penData.defaultStrokeWidth;\r\n    this.showDrawEl();\r\n  },\r\n  clearAndHide: function() {\r\n    this.drawEl.empty();\r\n    this.drawEl.addClass('hidden');\r\n  },\r\n  showDrawEl: function() {\r\n    var _this = this;\r\n    this.drawEl.removeClass('hidden');\r\n    this.drawEl.addClass('fadeIn animated');\r\n    this.drawElRaw.addEventListener('animationend', function() {   _this.drawEl.trigger('paintBook.drawReady', {}); \r\n    })\r\n  },\r\n  initPen: function() {\r\n    this.drawElRaw.addEventListener(this.go.clickEventType.start, this.penHandlerStart);\r\n     this.drawElRaw.addEventListener(this.go.clickEventType.move, this.penHandlerMove);\r\n    this.drawElRaw.addEventListener(this.go.clickEventType.up, this.penHandlerUp);\r\n  },\r\n  penHandlerStart: function(e) {\r\n    if (typeof e.targetTouches !== 'undefined' && e.targetTouches.length >= 1) e = e.targetTouches.item(0); \r\n    \r\n    // svg free hand drawing from https://stackoverflow.com/questions/40324313/svg-smooth-freehand-drawing\r\n    this.penData.boundingClientRect = this.drawEl.get(0).getBoundingClientRect();\r\n    this.penData.isDrawing= true;\r\n    this.penData.path = document.createElementNS('http://www.w3.org/2000/svg', 'path');\r\n    this.penData.path.setAttribute(\"fill\", \"none\");\r\n    this.penData.path.setAttribute(\"stroke\", this.go.currentPenColor);\r\n    this.penData.path.setAttribute(\"stroke-width\", this.penData.strokeWidth);\r\n    this.penData.path.setAttribute(\"stroke-linecap\", \"round\");\r\n    \r\n    this.penData.buffer = [];\r\n    var pt = this.getMousePosition(e);\r\n    this.penHandlerAppendToBuffer(pt);\r\n    this.penData.strPath = \"M\" + pt.x + \" \" + pt.y;\r\n    this.penData.path.setAttribute(\"d\", this.penData.strPath);\r\n    this.drawEl.append(this.penData.path);\r\n  },\r\n  penHandlerUpdateStrokeWidth: function(val) {\r\n    this.penData.strokeWidth = val;\r\n    this.penHandlerUpdatePathAttribute('stroke-width', val);\r\n  },\r\n  penHandlerUpdatePathAttribute: function(name, val) {\r\n    this.penData.path.setAttribute(name, val);\r\n  },\r\n  penHandlerMove: function(e) {\r\n    if (typeof e !== \"undefined\" && typeof e.targetTouches !== 'undefined' && e.targetTouches.length >= 1) e = e.targetTouches.item(0); \r\n    \r\n    if (this.penData.isDrawing) {\r\n     this.penHandlerAppendToBuffer(this.getMousePosition(e));\r\n     this.penHandlerUpdateSvgPath();\r\n    }\r\n  },\r\n  penHandlerUp: function(e) {\r\n    if (typeof e !== \"undefined\" && typeof e.targetTouches !== 'undefined' && e.targetTouches.length >= 1) e = e.targetTouches.item(0); \r\n    \r\n    this.penData.isDrawing= false;\r\n    \r\n    this.drawEl.trigger('paintBook.drawPathComplete', {});\r\n  },\r\n  getMousePosition: function (e) {\r\n    return {\r\n        x: (e.pageX - this.penData.boundingClientRect.left),\r\n        y: (e.pageY - this.penData.boundingClientRect.top) \r\n    }\r\n  },\r\n  penHandlerAppendToBuffer: function (pt) {\r\n    this.penData.buffer.push(pt);\r\n    while (this.penData.buffer.length > this.penData.bufferSize) {\r\n        this.penData.buffer.shift();\r\n    }\r\n  },\r\n  penHandlerGetAveragePoint: function (offset) {\r\n    var len = this.penData.buffer.length;\r\n    if (len % 2 === 1 || len >= this.penData.bufferSize) {\r\n        var totalX = 0;\r\n        var totalY = 0;\r\n        var pt, i;\r\n        var count = 0;\r\n        for (i = offset; i < len; i++) {\r\n            count++;\r\n            pt = this.penData.buffer[i];\r\n            totalX += pt.x;\r\n            totalY += pt.y;\r\n        }\r\n        return {\r\n            x: totalX / count,\r\n            y: totalY / count\r\n        }\r\n    }\r\n    return null;\r\n  },\r\n  penHandlerUpdateSvgPath: function () {\r\n    var pt = this.penHandlerGetAveragePoint(0);\r\n\r\n    if (pt) {\r\n        // Get the smoothed part of the path that will not change\r\n        this.penData.strPath += \" L\" + pt.x + \" \" + pt.y;\r\n\r\n        // Get the last part of the path (close to the current mouse position)\r\n        // This part will change if the mouse moves again\r\n        var tmpPath = \"\";\r\n        for (var offset = 2; offset < this.penData.buffer.length; offset += 2) {\r\n            pt = this.penHandlerGetAveragePoint(offset);\r\n            tmpPath += \" L\" + pt.x + \" \" + pt.y;\r\n        }\r\n\r\n        // Set the complete current path coordinates\r\n        this.penData.path.setAttribute(\"d\", this.penData.strPath + tmpPath);\r\n    }\r\n  }\r\n});\r\n\r\n\r\nvar app = {};\r\n\r\napp.init = function() {\r\n  \r\n}\r\n\r\nPaintBook.app = function() {\r\n  var go = PaintBook.Global;\r\n  var paint;\r\n  var _this = this;\r\n\r\n  this.onFurhatMessage = function(data) {\r\n    \r\n    switch(data.action) {\r\n      case 'init':\r\n        if (typeof(paint)==='undefined') {\r\n          paint = new PaintBook.PaintHandler();\r\n        } else {\r\n          paint.reInit();\r\n        }\r\n        break;\r\n      case 'shutDown':\r\n        paint.clearAndHide();\r\n        break;\r\n      case 'fill':\r\n        go.currentFillColor = data.setValue;\r\n        paint.penHandlerUpdatePathAttribute('fill',   go.currentFillColor);\r\n        break;\r\n      case 'penColor':\r\n        go.currentPenColor = data.setValue;\r\n        paint.penHandlerUpdatePathAttribute('stroke',   go.currentPenColor);\r\n        break;\r\n      case 'penSize':\r\n        paint.penHandlerUpdateStrokeWidth(data.setValue);\r\n        break;\r\n    }\r\n  } \r\n  Furhat(function (furhat) {\r\n    furhat.subscribe('furhatos.app.drawbuddy.DataDelivery',  _this.onFurhatMessage );\r\n\r\n    _this.sendEvent = function(eventName, data) {\r\n      furhat.send({\r\n        event_name: eventName,\r\n        data: data\r\n      });\r\n    }\r\n  });\r\n  \r\n  go.drawEl.bind('paintBook.drawPathComplete',\r\n    function(event,data) {\r\n      _this.sendEvent(\"drawPathComplete\",  {});\r\n  }).bind('paintBook.drawReady',\r\n    function(event,data) {\r\n      _this.sendEvent(\"drawingBoardReady\",  {});\r\n  });  \r\n}\r\nPaintBook.app();\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n// Constants\nconst OPEN = 'open';\nconst CLOSE = 'closed';\nconst FAIL = 'failed';\n\n/**\n * Furhat main class. Maintains the websocket connection to furhatOS and\n * has methods to send events, subscribe to events and helper methods such as say,\n * gesture, etc.\n */\nclass Furhat {\n  constructor() {\n    this.eventFunctions = {};\n  }\n\n  /**\n   * Initializes the furhat socket connection and executes the callback method.\n   * @param domain IP Address for furhatOS - localhost if SDK.\n   * @param port port for RealTimeAPI module of furhatOS.\n   * @param route route for RealTimeAPI module of furhatOS.\n   * @param callback callback method to be executed on successful opening of websocket.\n   */\n  init(domain, port, route, callback) {\n    if (this.socket !== undefined) {\n      this.socket.close();\n    }\n    console.log(`Initializing websocket connection to ws://${domain}:${port}/${route}`); // eslint-disable-line no-console\n    this.socket = new window.WebSocket(`ws://${domain}:${port}/${route}`); // eslint-disable-line no-undef\n\n    this.socket.onopen = () => {\n      this.status = OPEN;\n      if (callback !== undefined) {\n        callback(OPEN, this);\n      }\n    };\n    this.socket.onmessage = event => {\n      if (this.eventFunctions[JSON.parse(event.data).event_name] !== undefined) {\n        this.eventFunctions[JSON.parse(event.data).event_name](JSON.parse(event.data));\n      }\n    };\n    this.socket.onclose = () => {\n      this.status = CLOSE;\n      if (callback !== undefined) {\n        callback(CLOSE, this);\n      }\n    };\n    this.socket.onerror = () => {\n      this.status = FAIL;\n      if (callback !== undefined) {\n        callback(FAIL, this);\n      }\n    };\n  }\n\n  /**\n   * Sends an event to furhatOS\n   * @param event Object containing the event. Mandtory to have event_name parameter in the object\n   */\n  send(event) {\n    if (this.socket.readyState === 2 || this.socket.readyState === 3) {\n      // SHIT\n    } else if (this.socket.readyState === 1) {\n      this.socket.send(JSON.stringify(event));\n    }\n  }\n\n  /**\n   * Subscribes to the given event and triggers the supplied callback on event\n   * @param eventName Name of the event to subscribe\n   * @param callback Function which needs to be triggered when the given event is recieved\n   * @param dontSend [Optional] [false by default] Boolean which determines wether to send\n   * the subscribe event or not. use it to set callbacks for event that are already subscribed to,\n   * for instance with group subscriptions\n   */\n  subscribe(eventName, callback, dontSend = false) {\n    const event = { event_name: 'furhatos.event.actions.ActionRealTimeAPISubscribe', name: eventName };\n    this.eventFunctions[eventName] = callback;\n    if (!dontSend) {\n      this.send(event);\n    }\n  }\n\n  /**\n   * Subscribes to the given event group\n   * @param groupNumber Number(Assigned ENUM) of the group that needs to be subscribed to\n   */\n  subscribeGroup(groupNumber) {\n    const event = { event_name: 'furhatos.event.actions.ActionRealTimeAPISubscribe', group: groupNumber };\n    this.send(event);\n  }\n\n  /**\n   * Says a given text\n   * @param text Text which needs to be said by Furhat\n   */\n  say(text) {\n    const event = { event_name: 'furhatos.event.actions.ActionSpeech', text };\n    this.send(event);\n  }\n\n  /**\n   * Stimulates the speech of a user in the interaction space\n   * @param text Text which needs to be said by the user\n   */\n  userSpeech(text) {\n    const event = { event_name: 'furhatos.event.senses.SenseTypingEnd', messageText: text };\n    this.send(event);\n  }\n\n  /**\n   * Stimulates SenseSpeechStart event. Can be used to stimulate user speech via typing\n   */\n  userSpeechStart() {\n    const event = { event_name: 'furhatos.event.senses.SenseTypingStart' };\n    this.send(event);\n  }\n\n  /**\n   * Performs the given gesture\n   * @param name Name of the gesture that needs to be performed\n   */\n  gesture(name) {\n    const event = { event_name: 'furhatos.event.actions.ActionGesture', name };\n    this.send(event);\n  }\n}\n\nexports.default = Furhat;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/furhat-core/dist/index.js\n// module id = 3\n// module chunks = 0","module.exports = require('./dist')\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/furhat-core/index.js\n// module id = 4\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _furhatCore = require('furhat-core');\n\nvar _furhatCore2 = _interopRequireDefault(_furhatCore);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nlet address;\nlet portNumber;\nlet callbackFun;\n\nconst InitCallback = (status, hat) => {\n  if (status === 'open') {\n    hat.send({\n      event_name: 'furhatos.event.senses.SenseSkillGUIConnected',\n      port: portNumber\n    });\n    callbackFun(hat);\n  } else if (status === 'closed' || status === 'failed') {\n    window.setTimeout(() => {\n      // eslint-disable-line no-undef\n      hat.init(address, portNumber, 'api', InitCallback);\n    }, 1000);\n  }\n};\n\n/**\n * FurhatGUI Function which sets up a connection to the furhat skill and gives\n * the furhat object to send and recieve events to the skill.\n * @param callback callback that needs to be triggered when a sucessful connection is established\n */\nconst FurhatGUI = callback => {\n  if (callback !== undefined && typeof callback === 'function') {\n    window.fetch('/port', { method: 'GET' }).then(r => {\n      // eslint-disable-line no-undef\n      r.json().then(o => {\n        const furhat = new _furhatCore2.default();\n        address = o.address; // eslint-disable-line prefer-destructuring\n        portNumber = o.port;\n        callbackFun = callback;\n        furhat.init(o.address, o.port, 'api', InitCallback); // eslint-disable-line no-undef\n      });\n    });\n  }\n};\n\nexports.default = FurhatGUI;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/furhat-gui/dist/index.js\n// module id = 5\n// module chunks = 0"],"sourceRoot":""}